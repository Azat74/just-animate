!function(){"use strict";function t(t){return!t||t.length<1?void 0:t[0]}function e(t){return b.call(t,0)}function i(t,e){for(var i=0,r=t.length;r>i;i++)e(t[i])}function r(t,e){for(var i="",r=0,n=t.length;n>r;r++){var s=t[r],a=e(s);a>i&&(i=a)}return i}function n(t,e){for(var i=[],r=0,n=t.length;n>r;r++){var s=e(t[r]);void 0!==s&&i.push(s)}return i}function s(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var r=1,n=arguments.length;n>r;r++){var s=arguments[r];for(var a in s)t[a]=s[a]}return t}function a(t){return!f(t)&&c(t.length)}function o(t){return void 0!==t&&null!==t&&""!==t}function u(t){return"[object Function]"===y.call(t)}function c(t){return"number"==typeof t}function f(t){return"string"==typeof t}function h(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var r=u(t)?t():t,n=arguments.length,s=1;n>s;s++)r=arguments[s](r);return r}function p(t,e,i){return e+i.toUpperCase()}function l(t){return f(t)?t.replace(F,p):void 0}function _(t){if(t.length<2)return t;var e=t[0];0!==e.offset&&(e.offset=0);var i=t[t.length-1];1!==i.offset&&(i.offset=1);for(var r=t.length,n=r-1,s=1;n>s;s++){var a=t[s];if(!c(a.offset))for(var o=s+1;r>o;o++)if(c(t[o].offset)){for(var u=t[s-1].offset,f=t[o].offset,h=f-u,p=o-s+1,l=1;p>l;l++)t[l-1+s].offset=l/o*h+u;s=o;break}}return t}function g(t){if(t.length<2)return t;var e=t[0];0!==e.offset&&(e.offset=0);for(var i=t[t.length-1],r=t.length,n=1;r>n;n++){var s=t[n];for(var a in s)a===Y||o(e[a])||(e[a]=s[a])}for(var n=r-2;n>-1;n--){var s=t[n];for(var a in s)a===Y||o(i[a])||(i[a]=s[a])}return t}function m(t){var e=0,i=1,r=2,n=new Array(3),s=new Array(2),u=new Array(3),h={},p="";for(var _ in t){var g=t[_];if(o(g))switch(_){case"scale3d":if(a(g)){var m=g;if(3!==m.length)throw Error("scale3d requires x, y, & z");n[e]=m[e],n[i]=m[i],n[r]=m[r];continue}if(c(g)){n[e]=g,n[i]=g,n[r]=g;continue}throw Error("scale3d requires a number or number[]");case"scale":if(a(g)){var m=g;if(2!==m.length)throw Error("scale requires x & y");n[e]=m[e],n[i]=m[i];continue}if(c(g)){n[e]=g,n[i]=g;continue}throw Error("scale requires a number or number[]");case"scaleX":if(c(g)){n[e]=g;continue}throw Error("scaleX requires a number");case"scaleY":if(c(g)){n[i]=g;continue}throw Error("scaleY requires a number");case"scaleZ":if(c(g)){n[r]=g;continue}throw Error("scaleZ requires a number");case"skew":if(a(g)){var m=g;if(2!==m.length)throw Error("skew requires x & y");s[e]=m[e],s[i]=m[i];continue}if(c(g)){s[e]=g,s[i]=g;continue}throw Error("skew requires a number, string, string[], or number[]");case"skewX":if(f(g)){s[e]=g;continue}throw Error("skewX requires a number or string");case"skewY":if(f(g)){s[i]=g;continue}throw Error("skewY requires a number or string");case"rotate3d":if(a(g)){var m=g;if(4!==m.length)throw Error("rotate3d requires x, y, z, & a");p+=" rotate3d("+m[0]+","+m[1]+","+m[2]+","+m[3]+")";continue}throw Error("rotate3d requires an []");case"rotateX":if(f(g)){p+=" rotate3d(1, 0, 0, "+g+")";continue}throw Error("rotateX requires a string");case"rotateY":if(f(g)){p+=" rotate3d(0, 1, 0, "+g+")";continue}throw Error("rotateY requires a string");case"rotate":case"rotateZ":if(f(g)){p+=" rotate3d(0, 0, 1, "+g+")";continue}throw Error("rotateZ requires a string");case"translate3d":if(a(g)){var m=g;if(3!==m.length)throw Error("translate3d requires x, y, & z");u[e]=m[e],u[i]=m[i],u[r]=m[r];continue}if(f(g)||c(g)){u[e]=g,u[i]=g,u[r]=g;continue}throw Error("translate3d requires a number, string, string[], or number[]");case"translate":if(a(g)){var m=g;if(2!==m.length)throw Error("translate requires x & y");u[e]=m[e],u[i]=m[i];continue}if(f(g)||c(g)){u[e]=g,u[i]=g;continue}throw Error("translate requires a number, string, string[], or number[]");case"x":case"translateX":if(f(g)||c(g)){u[e]=g;continue}throw Error("translateX requires a number or string");case"y":case"translateY":if(f(g)||c(g)){u[i]=g;continue}throw Error("translateY requires a number or string");case"z":case"translateZ":if(f(g)||c(g)){u[r]=g;continue}throw Error("translateZ requires a number or string");case"transform":p+=" "+g;break;default:var d=l(_);h[d]=g}}var b=void 0!==n[e],y=void 0!==n[i],v=void 0!==n[r];if(b&&v||y&&v){var w=n.map(function(t){return t||"1"}).join(",");p+=" scale3d("+w+")"}else b&&y?p+=" scale("+(n[e]||1)+", "+(n[i]||1)+")":b?p+=" scaleX("+n[e]+")":y?p+=" scaleX("+n[i]+")":v&&(p+=" scaleX("+n[r]+")");var k=void 0!==s[e],T=void 0!==s[i];k&&T?p+=" skew("+(s[e]||1)+", "+(s[i]||1)+")":k?p+=" skewX("+s[e]+")":T&&(p+=" skewY("+s[i]+")");var O=void 0!==u[e],E=void 0!==u[i],j=void 0!==u[r];if(O&&j||E&&j){var P=u.map(function(t){return t||"1"}).join(",");p+=" translate3d("+P+")"}else O&&E?p+=" translate("+(u[e]||1)+", "+(u[i]||1)+")":O?p+=" translateX("+u[e]+")":E?p+=" translateY("+u[i]+")":j&&(p+=" translateZ("+u[r]+")");return p&&(h.transform=p),h}function d(t){if(!t)throw"no elements";if(f(t)){var r=document.querySelectorAll(t);return e(r)}if("string"==typeof t.tagName)return[t];if(u(t)){var n=t,s=n();return d(s)}if(a(t)){var o=[];return i(t,function(t){var e=d(t);o.push.apply(o,e)}),o}return[]}var b=Array.prototype.slice,y=Object.prototype.toString,v=function(){function t(){this._fn={}}return t.prototype.trigger=function(t,e){var i=this._fn[t];if(i)for(var r=i.length,n=0;r>n;n++)i[n].apply(void 0,e)},t.prototype.on=function(t,e){if(!u(e))throw"invalid listener";var i=this._fn[t];return i?void(-1===i.indexOf(e)&&i.push(e)):void(this._fn[t]=[e])},t.prototype.off=function(t,e){var i=this._fn[t];if(!i)return!1;var r=i.indexOf(e);return-1===r?!1:(i.splice(r,1),!0)},t}(),w=1/30,k=function(){function t(t,e){var i=e.duration;if(void 0===i)throw"Duration is required";this._dispatcher=new v,this.playbackRate=0,this.duration=e.duration,this.currentTime=0,this._events=n(e.events,function(e){return new T(t,i,e)}),this._isPaused=!1,this._manager=t,this._tick=this._tick.bind(this),e.autoplay&&this.play()}return Object.defineProperty(t.prototype,"iterationStart",{get:function(){return this._iterationStart},set:function(t){this._iterationStart=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iterations",{get:function(){return this._iterations},set:function(t){this._iterations=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},set:function(t){this._totalDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},set:function(t){this._endTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._playState},set:function(t){this._playState=t,this._dispatcher.trigger("set",["playbackState",t])},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e){return this._dispatcher.on(t,e),this},t.prototype.off=function(t,e){return this._dispatcher.off(t,e),this},t.prototype.finish=function(){return this._isFinished=!0,this},t.prototype.play=function(){return this.playbackRate=1,this._isPaused=!1,this._isInEffect||(this.playbackRate<0?this.currentTime=this.duration:this.currentTime=0,window.requestAnimationFrame(this._tick)),this},t.prototype.pause=function(){return this._isInEffect&&(this._isPaused=!0),this},t.prototype.reverse=function(){return this.playbackRate=-1,this._isPaused=!1,this._isInEffect||(this.currentTime<=0&&(this.currentTime=this.duration),window.requestAnimationFrame(this._tick)),this},t.prototype.cancel=function(){return this.playbackRate=0,this._isCanceled=!0,this},t.prototype._tick=function(){var t=this;if(this._isCanceled)return void this._triggerCancel();if(this._isFinished)return void this._triggerFinish();if(this._isPaused)return void this._triggerPause();this._isInEffect||(this._isInEffect=!0);var e=performance.now(),r=this._lastTick;if(void 0!==r){var n=(e-r)*this.playbackRate;this.currentTime+=n}return this._lastTick=e,this.currentTime>this.duration||this.currentTime<0?void this._triggerFinish():(i(this._events,function(e){var i=t.playbackRate<0?e.startTimeMs:e.startTimeMs+w,r=t.playbackRate>=0?e.endTimeMs:e.endTimeMs-w,n=i<=t.currentTime&&t.currentTime<r;return n?(e.animator.playbackRate=t.playbackRate,e.isInEffect=!0,void e.animator.play()):void(e.isInEffect=!1)}),void window.requestAnimationFrame(this._tick))},t.prototype._triggerFinish=function(){this._reset(),i(this._events,function(t){return t.animator.finish()}),this._dispatcher.trigger("finish")},t.prototype._triggerCancel=function(){this._reset(),i(this._events,function(t){return t.animator.cancel()}),this._dispatcher.trigger("cancel")},t.prototype._triggerPause=function(){this._isPaused=!0,this._isInEffect=!1,this._lastTick=void 0,this.playbackRate=0,i(this._events,function(t){t.isInEffect=!1,t.animator.pause()})},t.prototype._reset=function(){this.currentTime=0,this._lastTick=void 0,this._isCanceled=!1,this._isFinished=!1,this._isPaused=!1,this._isInEffect=!1,i(this._events,function(t){t.isInEffect=!1})},t}(),T=function(){function t(t,e,i){var r,n,a;if(i.name){var o=t.findAnimation(i.name),u=s({},o.timings);i.timings&&(n=s(u,i.timings)),r=o.keyframes,n=u,a=i.el}else r=i.keyframes,n=i.timings,a=i.el;var c=e*i.offset,f=c+n.duration,h=f>e;h&&(f=e),this.el=a,this.isClipped=h,this.isInEffect=!1,this.endTimeMs=f,this.keyframes=r,this.offset=i.offset,this.startTimeMs=c,this.timings=n,this._manager=t}return Object.defineProperty(t.prototype,"animator",{get:function(){return void 0===this._animator&&(this._animator=this._manager.animate(this.keyframes,this.el,this.timings),this._animator.pause()),this._animator},enumerable:!0,configurable:!0}),t}(),O=performance&&performance.now?function(){return performance.now()}:function(){return Date.now()},E=window&&window.requestAnimationFrame||function(t){return setTimeout(t,16.66)},j=function(){function t(){this._isActive=!1,this._lastTime=void 0,this._ons=[],this._offs=[],this._active=[],this._elapses=[],this._update=this._update.bind(this)}return t.prototype.subscribe=function(t){var e=this._offs.indexOf(t);-1!==e&&this._offs.splice(e,1),-1===this._ons.indexOf(t)&&this._ons.push(t),this._isActive||(this._isActive=!0,E(this._update))},t.prototype.unsubscribe=function(t){var e=this._ons.indexOf(t);-1!==e&&this._ons.splice(e,1),-1===this._offs.indexOf(t)&&this._offs.push(t),this._isActive||(this._isActive=!0,E(this._update))},t.prototype._update=function(){this._updateOffs(),this._updateOns();var t=this._active,e=this._elapses,i=t.length,r=this._lastTime||O(),n=O(),s=n-r;if(!i)return this._isActive=!1,void(this._lastTime=void 0);this._isActive=!0,this._lastTime=n,E(this._update);for(var a=0;i>a;a++){var o=e[a],u=o+s;e[a]=u,t[a](s,u)}},t.prototype._updateOffs=function(){for(var t=this._offs.length,e=0;t>e;e++){var i=this._offs[e],r=this._active.indexOf(i);-1!==r&&(this._active.splice(r,1),this._elapses.splice(r,1))}},t.prototype._updateOns=function(){for(var t=this._ons.length,e=0;t>e;e++){var i=this._ons[e];-1===this._active.indexOf(i)&&(this._active.push(i),this._elapses.push(0))}},t}(),P="call",z="set",q="finish",S="cancel",I="play",A="pause",R="reverse",x="running",D="pending",C=function(){function e(e,n){var s=this;e=e||[];var a=new v,o=t(e);o&&o.on(q,function(){s._dispatcher.trigger(q),s._timeLoop.unsubscribe(s._tick)}),i(e,function(t){a.on(z,function(e,i){t[e]=i}),a.on(P,function(e){t[e]()})}),this._duration=r(e,function(t){return t.totalDuration}),this._tick=this._tick.bind(this),this._dispatcher=a,this._timeLoop=n,this._effects=e}return Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._currentTime},set:function(t){this._currentTime=t,this._dispatcher.trigger(z,["currentTime",t])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._dispatcher.trigger(z,["playbackRate",t])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playState",{get:function(){return this._playState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iterationStart",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iterations",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalDuration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e.prototype.on=function(t,e){return this._dispatcher.on(t,e),this},e.prototype.off=function(t,e){return this._dispatcher.off(t,e),this},e.prototype.cancel=function(){return this._dispatcher.trigger(P,[S]),this.currentTime=0,this._dispatcher.trigger(S),this},e.prototype.finish=function(){return this._dispatcher.trigger(P,[q]),this.currentTime=this.playbackRate<0?0:this.duration,this._dispatcher.trigger(q),this},e.prototype.play=function(){return this._dispatcher.trigger(P,[I]),this._dispatcher.trigger(I),this._timeLoop.subscribe(this._tick),this},e.prototype.pause=function(){return this._dispatcher.trigger(P,[A]),this._dispatcher.trigger(A),this},e.prototype.reverse=function(){return this._dispatcher.trigger(P,[R]),this._dispatcher.trigger(R),this},e.prototype._tick=function(){this._dispatcher.trigger("update",[this.currentTime]);var e=t(this._effects);this._currentTime=e.currentTime,this._playbackRate=e.playbackRate,this._playState=e.playState,this._playState!==x&&this._playState!==D&&this._timeLoop.unsubscribe(this._tick)},e}(),X={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",elegantSlowStartEnd:"cubic-bezier(0.175, 0.885, 0.320, 1.275)"},F=/([a-z])[- ]([a-z])/gi,Y="offset",Q=function(){function t(t,e,i){var r=new v,n=t.animate(e,i);n.pause(),n.onfinish=function(){return r.trigger("finish")},this._iterationStart=i.iterationStart||0,this._iterations=i.iterations||1,this._duration=i.duration,this._startTime=i.delay||0,this._endTime=(i.endDelay||0)+i.duration,this._totalDuration=(i.delay||0)+(i.iterations||1)*i.duration+(i.endDelay||0),this._dispatcher=r,this._animator=n}return Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._animator.currentTime},set:function(t){this._animator.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._animator.playbackRate},set:function(t){this._animator.playbackRate=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._animator.playState},set:function(t){this._animator.playState=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iterationStart",{get:function(){return this._iterationStart},set:function(t){this._iterationStart=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iterations",{get:function(){return this._iterations},set:function(t){this._iterations=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},set:function(t){this._totalDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},set:function(t){this._endTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!0,configurable:!0}),t.prototype.off=function(t,e){return this._dispatcher.off(t,e),this},t.prototype.on=function(t,e){return this._dispatcher.on(t,e),this},t.prototype.cancel=function(){return this._animator.cancel(),this._dispatcher.trigger("cancel"),this},t.prototype.reverse=function(){return this._animator.reverse(),this._dispatcher.trigger("reverse"),this},t.prototype.pause=function(){return this._animator.pause(),this._dispatcher.trigger("pause"),this},t.prototype.play=function(){return this._animator.play(),this._dispatcher.trigger("play"),this},t.prototype.finish=function(){return this._animator.finish(),this},t}(),L=function(){function t(){this._registry={},this._timeLoop=new j}return t.inject=function(e){i(e,function(e){return t._globalAnimations[e.name]=e})},t.prototype.animate=function(t,e,i){var r=this._resolveArguments(t,i),s=d(e),a=n(s,function(t){return new Q(t,r.keyframes,r.timings)}),o=new C(a,this._timeLoop);return o.play(),o},t.prototype.animateSequence=function(t){var e=this,r=0,s=n(t.steps,function(t){var i=e._resolveArguments(t.name||t.keyframes,t.timings),n=i.timings.delay||0,s=i.timings.endDelay||0,a=i.timings.duration||0;return i.timings.delay=r+n,i.targets=t.el,r+=n+a+s,i});i(s,function(t){t.timings.endDelay=r-((t.timings.delay||0)+t.timings.duration+(t.timings.endDelay||0))});var a=[];i(s,function(t){var i=d(t.targets),r=n(i,function(e){return new Q(e,t.keyframes,t.timings)});1===r.length?a.push(r[0]):r.length>1&&a.push(new C(r,e._timeLoop))});var o=new C(a,this._timeLoop);return t.autoplay&&o.play(),o},t.prototype.animateTimeline=function(t){return new k(this,t)},t.prototype.findAnimation=function(e){return this._registry[e]||t._globalAnimations[e]||void 0},t.prototype.register=function(t){this._registry[t.name]=t},t.prototype.inject=function(e){t.inject(e)},t.prototype._resolveArguments=function(t,e){var i;if(f(t)){var r=this.findAnimation(t);i=h(n(r.keyframes,m),_,g),e=s({},r.timings,e)}else i=h(n(t,m),_,g);if(e&&e.easing){var a=X[e.easing];a&&(e.easing=a)}return{keyframes:i,timings:e}},t._globalAnimations={},t}();"undefined"!=typeof angular&&angular.module("just.animate",[]).service("just",L),window.just=new L}();