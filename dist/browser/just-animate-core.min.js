!function(){"use strict";function t(t){return!t||t.length<1?void 0:t[0]}function i(t,i){return q.call(t,i||0)}function e(t,i){for(var e=0,n=t.length;n>e;e++)i(t[e])}function n(t,i){for(var e="",n=0,r=t.length;r>n;n++){var a=t[n],o=i(a);o>e&&(e=o)}return e}function r(t,i){for(var e=[],n=0,r=t.length;r>n;n++){var a=i(t[n]);void 0!==a&&e.push(a)}return e}function a(t){return!c(t)&&u(t.length)}function o(t){return void 0!==t&&null!==t&&""!==t}function s(t){return"[object Function]"===P.call(t)}function u(t){return"number"==typeof t}function c(t){return"string"==typeof t}function f(t){return new Error("Bad: "+t)}function h(t){if(!t)throw f("source");if(c(t)){var n=document.querySelectorAll(t);return i(n)}if("string"==typeof t.tagName)return[t];if(s(t)){var r=t,o=r();return h(o)}if(a(t)){var u=[];return e(t,function(t){var i=h(t);u.push.apply(u,i)}),u}return[]}function d(){var t=Object.create(M);return t._fn={},t}function v(t,i,e){var n=Object.create(Tt),r=d(),a=t[Y](i,e);return a.pause(),a.onfinish=function(){return r.trigger(U)},n._iterationStart=e.iterationStart||0,n._iterations=e.iterations||1,n._duration=e.duration,n._startTime=e.delay||0,n._endTime=(e.endDelay||0)+e.duration,n._totalDuration=(e.delay||0)+(e.iterations||1)*e.duration+(e.endDelay||0),n._dispatcher=r,n._animator=a,n}function l(i,r){var a=Object.create(kt);i=i||[];var o=d(),s=t(i);return s&&s.on(U,function(){a._dispatcher.trigger(U),a._timeLoop.off(a._tick)}),e(i,function(t){o.on(z,function(i,e){t[i](e)})}),a._duration=n(i,function(t){return t.totalDuration()}),a._tick=a._tick.bind(a),a._dispatcher=o,a._timeLoop=r,a._effects=i,a}function m(t,i){var e=Object.create(bt),n=t.duration;if(!o(N))throw f(N);return e._={currentTime:0,dispatcher:d(),duration:t.duration,endTime:void 0,events:r(t.events,function(t){return k(i,n,t)}),isCanceled:void 0,isFinished:void 0,isInEffect:void 0,isPaused:void 0,iterationStart:0,iterations:1,lastTick:void 0,playState:void 0,playbackRate:0,startTime:0,timeLoop:i,totalDuration:t.duration},t.autoplay&&e.play(),e}function p(t){if(t.isCanceled)return void g(t);if(t.isFinished)return void _(t);if(t.isPaused)return void y(t);t.isInEffect||(t.isInEffect=!0);var i=performance.now(),n=t.lastTick;if(void 0!==n){var r=(i-n)*t.playbackRate;t.currentTime+=r}if(t.lastTick=i,t.currentTime>t.duration||t.currentTime<0)return void _(t);var a=t.playbackRate;e(t.events,function(i){var e=0>a?i.startTimeMs:i.startTimeMs+wt,n=t.playbackRate>=0?i.endTimeMs:i.endTimeMs-wt,r=e<=t.currentTime&&t.currentTime<n;if(r){var o=i.animator();o.playbackRate(t.playbackRate),o.play()}}),window.requestAnimationFrame(p.bind(void 0,t))}function _(t){T(t),e(t.events,function(t){return t.animator().finish()}),t.dispatcher.trigger(U)}function g(t){T(t),e(t.events,function(t){return t.animator().cancel()}),t.dispatcher.trigger(B)}function y(t){t.isPaused=!0,t.isInEffect=!1,t.lastTick=void 0,t.playbackRate=0,e(t.events,function(t){t.animator().pause()})}function T(t){t.currentTime=0,t.lastTick=void 0,t.isCanceled=!1,t.isFinished=!1,t.isPaused=!1,t.isInEffect=!1}function k(t,i,e){var n=e.keyframes,r=e.timings,a=e.el,o=i*e.offset,s=o+r.duration,u=s>i;return u&&(s=i),{_animator:void 0,_timeLoop:t,animator:w,el:a,endTimeMs:s,isClipped:u,keyframes:n,offset:e.offset,startTimeMs:o,timings:r}}function w(){var t=this;if(!this._animator){var i=h(this.el),e=r(i,function(i){return v(i,t.keyframes,t.timings)});this._animator=l(e,this._timeLoop),this._animator.pause()}return this._animator}function b(){var t={active:[],elapses:[],isActive:!1,lastTime:void 0,offs:[],ons:[]};return{off:function(i){return S(t,i)},on:function(i){return O(t,i)}}}function O(t,i){var e=t.offs.indexOf(i);-1!==e&&t.offs.splice(e,1),-1===t.ons.indexOf(i)&&t.ons.push(i),t.isActive||(t.isActive=!0,St(t,I))}function S(t,i){var e=t.ons.indexOf(i);-1!==e&&t.ons.splice(e,1),-1===t.offs.indexOf(i)&&t.offs.push(i),t.isActive||(t.isActive=!0,St(t,I))}function I(t){R(t),A(t);var i=t.active,e=t.elapses,n=i.length,r=t.lastTime||Ot(),a=Ot(),o=a-r;if(!n)return t.isActive=!1,void(t.lastTime=void 0);t.isActive=!0,t.lastTime=a,St(t,I);for(var s=0;n>s;s++){var u=e[s],c=u+o;e[s]=c,i[s](o,c)}}function R(t){for(var i=t.offs.length,e=0;i>e;e++){var n=t.offs[e],r=t.active.indexOf(n);-1!==r&&(t.active.splice(r,1),t.elapses.splice(r,1))}}function A(t){for(var i=t.ons.length,e=0;i>e;e++){var n=t.ons[e];-1===t.active.indexOf(n)&&(t.active.push(n),t.elapses.push(0))}}function j(t,i,e){return i+e.toUpperCase()}function D(t){return c(t)?t.replace(It,j):void 0}function E(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var n=1,r=arguments.length;r>n;n++){var a=arguments[n];for(var o in a)t[o]=a[o]}return t}function L(t){if(t.length<2)return t;var i=t[0];0!==i.offset&&(i.offset=0);var e=t[t.length-1];1!==e.offset&&(e.offset=1);for(var n=t.length,r=n-1,a=1;r>a;a++){var o=t[a];if(!u(o.offset))for(var s=a+1;n>s;s++)if(u(t[s].offset)){for(var c=t[a-1].offset,f=t[s].offset,h=f-c,d=s-a+1,v=1;d>v;v++)t[v-1+a].offset=v/s*h+c;a=s;break}}return t}function x(t){if(t.length<2)return t;var i=t[0];0!==i.offset&&(i.offset=0);for(var e=t[t.length-1],n=t.length,r=1;n>r;r++){var a=t[r];for(var s in a)s===Dt||o(i[s])||(i[s]=a[s])}for(var r=n-2;r>-1;r--){var a=t[r];for(var s in a)s===Dt||o(e[s])||(e[s]=a[s])}return t}function C(t){var i=0,e=1,n=2,r=[],s=[],h=[],d={},v="";for(var l in t){var m=t[l];if(o(m))switch(l){case rt:if(a(m)){var p=m;if(3!==p.length)throw f(rt);r[i]=p[i],r[e]=p[e],r[n]=p[n];continue}if(u(m)){r[i]=m,r[e]=m,r[n]=m;continue}throw f(rt);case nt:if(a(m)){var p=m;if(2!==p.length)throw f(nt);r[i]=p[i],r[e]=p[e];continue}if(u(m)){r[i]=m,r[e]=m;continue}throw f(nt);case at:if(u(m)){r[i]=m;continue}throw f(at);case ot:if(u(m)){r[e]=m;continue}throw f(ot);case st:if(u(m)){r[n]=m;continue}throw f(st);case ut:if(a(m)){var p=m;if(2!==p.length)throw f(ut);s[i]=p[i],s[e]=p[e];continue}if(u(m)){s[i]=m,s[e]=m;continue}throw f(ut);case ct:if(c(m)){s[i]=m;continue}throw f(ct);case ft:if(c(m)){s[e]=m;continue}throw f(ft);case W:if(a(m)){var p=m;if(4!==p.length)throw f(W);v+=" rotate3d("+p[0]+","+p[1]+","+p[2]+","+p[3]+")";continue}throw f(W);case $:if(c(m)){v+=" rotate3d(1, 0, 0, "+m+")";continue}throw f($);case tt:if(c(m)){v+=" rotate3d(0, 1, 0, "+m+")";continue}throw f(tt);case V:case it:if(c(m)){v+=" rotate3d(0, 0, 1, "+m+")";continue}throw f(it);case vt:if(a(m)){var p=m;if(3!==p.length)throw f(vt);h[i]=p[i],h[e]=p[e],h[n]=p[n];continue}if(c(m)||u(m)){h[i]=m,h[e]=m,h[n]=m;continue}throw f(W);case dt:if(a(m)){var p=m;if(2!==p.length)throw f(dt);h[i]=p[i],h[e]=p[e];continue}if(c(m)||u(m)){h[i]=m,h[e]=m;continue}throw f(dt);case _t:case lt:if(c(m)||u(m)){h[i]=m;continue}throw f(_t);case gt:case mt:if(c(m)||u(m)){h[e]=m;continue}throw f(gt);case yt:case pt:if(c(m)||u(m)){h[n]=m;continue}throw f(yt);case ht:v+=" "+m;break;default:d[D(l)]=m}}var _=void 0!==r[i],g=void 0!==r[e],y=void 0!==r[n];if(_&&y||g&&y){var T=r.map(function(t){return t||"1"}).join(",");v+=" scale3d("+T+")"}else _&&g?v+=" scale("+(r[i]||1)+", "+(r[e]||1)+")":_?v+=" scaleX("+r[i]+")":g?v+=" scaleX("+r[e]+")":y&&(v+=" scaleX("+r[n]+")");var k=void 0!==s[i],w=void 0!==s[e];k&&w?v+=" skew("+(s[i]||1)+", "+(s[e]||1)+")":k?v+=" skewX("+s[i]+")":w&&(v+=" skewY("+s[e]+")");var b=void 0!==h[i],O=void 0!==h[e],S=void 0!==h[n];if(b&&S||O&&S){var I=h.map(function(t){return t||"1"}).join(",");v+=" translate3d("+I+")"}else b&&O?v+=" translate("+(h[i]||1)+", "+(h[e]||1)+")":b?v+=" translateX("+h[i]+")":O?v+=" translateY("+h[e]+")":S&&(v+=" translateZ("+h[n]+")");return v&&(d.transform=v),d}function F(){var t=this;return t=t instanceof F?t:Object.create(F.prototype),t._registry={},t._timeLoop=b(),t}function Q(t){e(t,function(t){return Et[t.name]=t})}function X(t,i,e){var n;if(c(i)){var a=t.findAnimation(i);n=jt(r(a.keyframes,C),L,x),e=E({},a.timings,e)}else n=jt(r(i,C),L,x);if(e&&e.easing){var o=At[e.easing];o&&(e.easing=o)}return{keyframes:n,timings:e}}var q=Array.prototype.slice,P=Object.prototype.toString,M={_fn:void 0,trigger:function(t,i){var e=this._fn[t];if(e)for(var n=e.length,r=0;n>r;r++)e[r].apply(void 0,i)},on:function(t,i){if(!s(i))throw f("listener");var e=this._fn[t];return e?void(-1===e.indexOf(i)&&e.push(i)):void(this._fn[t]=[i])},off:function(t,i){var e=this._fn[t];if(!e)return!1;var n=e.indexOf(i);return-1===n?!1:(e.splice(n,1),!0)}},Y="animate",z="call",B="cancel",Z="cubic-bezier",N="duration",U="finish",G="pause",H="pending",J="play",K="reverse",V="rotate",W="rotate3d",$="rotateX",tt="rotateY",it="rotateZ",et="running",nt="scale",rt="scale3d",at="scaleX",ot="scaleY",st="scaleZ",ut="skew",ct="skewX",ft="skewY",ht="transform",dt="translate",vt="translate3d",lt="translateX",mt="translateY",pt="translateZ",_t="x",gt="y",yt="z",Tt={_dispatcher:void 0,_duration:void 0,_endTime:void 0,_iterationStart:void 0,_iterations:void 0,_startTime:void 0,_totalDuration:void 0,currentTime:function(t){var i=this;return o(t)?(i._animator.currentTime=t,i):i._animator.currentTime},playbackRate:function(t){var i=this;return o(t)?(i._animator.playbackRate=t,i):i._animator.playbackRate},playState:function(){return this._animator.playState},iterationStart:function(){return this._iterationStart},iterations:function(){return this._iterations},totalDuration:function(){return this._totalDuration},duration:function(){return this._duration},endTime:function(){return this._endTime},startTime:function(){return this._startTime},off:function(t,i){return this._dispatcher.off(t,i),this},on:function(t,i){return this._dispatcher.on(t,i),this},cancel:function(){var t=this;return t._animator.cancel(),t._dispatcher.trigger(B),t},reverse:function(){var t=this;return t._animator.reverse(),t._dispatcher.trigger(K),t},pause:function(){var t=this;return t._animator.pause(),t._dispatcher.trigger(G),t},play:function(){var t=this;return t._animator.play(),t._dispatcher.trigger(J),t},finish:function(){var t=this;return t._animator.finish(),t}},kt={currentTime:function(t){var i=this;return o(t)?(i._currentTime=t,i._dispatcher.trigger(z,["currentTime",t]),i):i._currentTime},playbackRate:function(t){var i=this;return o(t)?(i._playbackRate=t,i._dispatcher.trigger(z,["playbackRate",t]),i):i._currentTime},playState:function(){return this._playState},duration:function(){return this._duration},iterationStart:function(){return 0},iterations:function(){return 1},endTime:function(){return this._duration},startTime:function(){return 0},totalDuration:function(){return this._duration},on:function(t,i){return this._dispatcher.on(t,i),this},off:function(t,i){return this._dispatcher.off(t,i),this},cancel:function(){var t=this;return t._dispatcher.trigger(z,[B]),t.currentTime(0),t._dispatcher.trigger(B),t},finish:function(){var t=this;return t._dispatcher.trigger(z,[U]),t.currentTime(t._playbackRate<0?0:t._duration),t._dispatcher.trigger(U),t},play:function(){var t=this;return t._dispatcher.trigger(z,[J]),t._dispatcher.trigger(J),t._timeLoop.on(t._tick),t},pause:function(){var t=this;return t._dispatcher.trigger(z,[G]),t._dispatcher.trigger(G),t},reverse:function(){var t=this;return t._dispatcher.trigger(z,[K]),t._dispatcher.trigger(K),t},_tick:function(){var i=this,e=t(i._effects);i._dispatcher.trigger("update",[i.currentTime]),i._currentTime=e.currentTime(),i._playbackRate=e.playbackRate(),i._playState=e.playState(),i._playState!==et&&i._playState!==H&&i._timeLoop.off(i._tick)}},wt=1/30,bt={_:void 0,duration:function(){return this._.duration},iterationStart:function(){return this._.iterationStart},iterations:function(){return this._.iterations},totalDuration:function(){return this._.totalDuration},endTime:function(){return this._.endTime},startTime:function(){return this._.startTime},currentTime:function(t){return o(t)?(this._.currentTime=t,this):this._.currentTime},playbackRate:function(t){return o(t)?(this._.playbackRate=t,this):this._.playbackRate},playState:function(t){return o(t)?(this._.playState=t,this._.dispatcher.trigger("set",["playbackState",t]),this):this._.playState},on:function(t,i){return this._.dispatcher.on(t,i),this},off:function(t,i){return this._.dispatcher.off(t,i),this},finish:function(){return this._.isFinished=!0,this},play:function(){return this._.playbackRate=1,this._.isPaused=!1,this._.isInEffect||(this._.playbackRate<0?this._.currentTime=this._.duration:this._.currentTime=0,window.requestAnimationFrame(p.bind(void 0,this._))),this},pause:function(){return this._.isInEffect&&(this._.isPaused=!0),this},reverse:function(){return this._.playbackRate=-1,this._.isPaused=!1,this._.isInEffect||(this._.currentTime<=0&&(this._.currentTime=this._.duration),window.requestAnimationFrame(p.bind(void 0,this._))),this},cancel:function(){return this._.playbackRate=0,this._.isCanceled=!0,this}},Ot=performance&&performance.now?function(){return performance.now()}:function(){return Date.now()},St=void 0!==window.requestAnimationFrame?function(t,i){window.requestAnimationFrame(function(){i(t)})}:function(t,i){setTimeout(function(){i(t)},16.66)},It=/([a-z])[- ]([a-z])/gi,Rt=function(){var t=arguments;return t[0]+"("+i(t,1).join(",")+")"},At={easeInBack:Rt(Z,.6,-.28,.735,.045),easeInCirc:Rt(Z,.6,.04,.98,.335),easeInCubic:Rt(Z,.55,.055,.675,.19),easeInExpo:Rt(Z,.95,.05,.795,.035),easeInOutBack:Rt(Z,.68,-.55,.265,1.55),easeInOutCirc:Rt(Z,.785,.135,.15,.86),easeInOutCubic:Rt(Z,.645,.045,.355,1),easeInOutExpo:Rt(Z,1,0,0,1),easeInOutQuad:Rt(Z,.455,.03,.515,.955),easeInOutQuart:Rt(Z,.77,0,.175,1),easeInOutQuint:Rt(Z,.86,0,.07,1),easeInOutSine:Rt(Z,.445,.05,.55,.95),easeInQuad:Rt(Z,.55,.085,.68,.53),easeInQuart:Rt(Z,.895,.03,.685,.22),easeInQuint:Rt(Z,.755,.05,.855,.06),easeInSine:Rt(Z,.47,0,.745,.715),easeOutBack:Rt(Z,.175,.885,.32,1.275),easeOutCirc:Rt(Z,.075,.82,.165,1),easeOutCubic:Rt(Z,.215,.61,.355,1),easeOutExpo:Rt(Z,.19,1,.22,1),easeOutQuad:Rt(Z,.25,.46,.45,.94),easeOutQuart:Rt(Z,.165,.84,.44,1),easeOutQuint:Rt(Z,.23,1,.32,1),easeOutSine:Rt(Z,.39,.575,.565,1),elegantSlowStartEnd:Rt(Z,.175,.885,.32,1.275)},jt=function(){for(var t=arguments,i=t[0],e=s(i)?i():i,n=t.length,r=1;n>r;r++)e=t[r](e);return e},Dt="offset",Et={};F.inject=Q,F.prototype={_registry:void 0,_timeLoop:void 0,animate:function(t,i,e){var n=X(this,t,e),a=h(i),o=r(a,function(t){return v(t,n.keyframes,n.timings)}),s=l(o,this._timeLoop);return s.play(),s},animateSequence:function(t){var i=this,n=0,a=r(t.steps,function(t){var e=X(i,t.name||t.keyframes,t.timings),r=e.timings.delay||0,a=e.timings.endDelay||0,o=e.timings.duration||0;return e.timings.delay=n+r,e.targets=t.el,n+=r+o+a,e});e(a,function(t){t.timings.endDelay=n-((t.timings.delay||0)+t.timings.duration+(t.timings.endDelay||0))});var o=[];e(a,function(t){var e=h(t.targets),n=r(e,function(i){return v(i,t.keyframes,t.timings)});1===n.length?o.push(n[0]):n.length>1&&o.push(l(n,i._timeLoop))});var s=l(o,this._timeLoop);return t.autoplay&&s.play(),s},animateTimeline:function(t){var i=this;return t.events.forEach(function(t){var e=X(i,t.name||t.keyframes,t.timings);t.keyframes=e.keyframes,t.timings=e.timings}),m(t,this._timeLoop)},findAnimation:function(t){return this._registry[t]||Et[t]||void 0},register:function(t){this._registry[t.name]=t},inject:Q},"undefined"!=typeof angular&&angular.module("just.animate",[]).service("just",F),window.just=F()}();