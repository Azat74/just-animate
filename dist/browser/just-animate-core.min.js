!function(){"use strict";function t(t,e){return ct.call(t,e||0)}function e(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n])}function n(t,e){for(var n="",r=0,i=t.length;i>r;r++){var a=t[r],o=e(a);o>n&&(n=o)}return n}function r(t,e){for(var n=[],r=0,i=t.length;i>r;r++){var a=e(t[r]);a!==I&&n.push(a)}return n}function i(t,e){ft.apply(t,e)}function a(t){return!f(t)&&s(t.length)}function o(t){return t!==I&&t!==A&&""!==t}function u(t){return toString.call(t)===it}function s(t){return typeof t===at}function c(t){return typeof t===ot&&t!==A}function f(t){return typeof t===ut}function p(t){return u(t)?t():t}function l(t,e,n){return n>e?t>=e&&n>=t:t>=n&&e>=t}function v(t){return new Error("Bad: "+t)}function h(n){if(!n)throw v("source");if(f(n)){var r=document.querySelectorAll(n);return t(r)}if("string"==typeof n.tagName)return[n];if(u(n)){var i=n,o=i();return h(o)}if(a(n)){var s=[];return e(n,function(t){var e=h(t);s.push.apply(s,e)}),s}return[]}function _(t,e,n){return e+n.toUpperCase()}function d(t){return f(t)?t.replace(st,_):I}function m(t){if(t.length<2)return t;var e=t[0];0!==e.offset&&(e.offset=0);var n=t[t.length-1];1!==n.offset&&(n.offset=1);for(var r=t.length,i=r-1,a=1;i>a;a++){var o=t[a];if(!s(o.offset))for(var u=a+1;r>u;u++)if(s(t[u].offset)){for(var c=t[a-1].offset,f=t[u].offset,p=f-c,l=u-a+1,v=1;l>v;v++)t[v-1+a].offset=v/u*p+c;a=u;break}}return t}function g(t){if(t.length<2)return t;var e=t[0];0!==e.offset&&(e.offset=0);for(var n=t[t.length-1],r=t.length,i=1;r>i;i++){var a=t[i];for(var u in a)u===_t||o(e[u])||(e[u]=a[u])}for(var i=r-2;i>-1;i--){var a=t[i];for(var u in a)u===_t||o(n[u])||(n[u]=a[u])}return t}function y(t){var e=0,n=1,r=2,i=[],u=[],c=[],p={},l="";for(var h in t){var _=t[h];if(o(_))switch(h){case Z:if(a(_)){var m=_;if(3!==m.length)throw v(Z);i[e]=m[e],i[n]=m[n],i[r]=m[r];continue}if(s(_)){i[e]=_,i[n]=_,i[r]=_;continue}throw v(Z);case F:if(a(_)){var m=_;if(2!==m.length)throw v(F);i[e]=m[e],i[n]=m[n];continue}if(s(_)){i[e]=_,i[n]=_;continue}throw v(F);case q:if(s(_)){i[e]=_;continue}throw v(q);case P:if(s(_)){i[n]=_;continue}throw v(P);case N:if(s(_)){i[r]=_;continue}throw v(N);case U:if(a(_)){var m=_;if(2!==m.length)throw v(U);u[e]=m[e],u[n]=m[n];continue}if(s(_)){u[e]=_,u[n]=_;continue}throw v(U);case G:if(f(_)){u[e]=_;continue}throw v(G);case H:if(f(_)){u[n]=_;continue}throw v(H);case D:if(a(_)){var m=_;if(4!==m.length)throw v(D);l+=" rotate3d("+m[0]+","+m[1]+","+m[2]+","+m[3]+")";continue}throw v(D);case Y:if(f(_)){l+=" rotate3d(1, 0, 0, "+_+")";continue}throw v(Y);case z:if(f(_)){l+=" rotate3d(0, 1, 0, "+_+")";continue}throw v(z);case M:case B:if(f(_)){l+=" rotate3d(0, 0, 1, "+_+")";continue}throw v(B);case V:if(a(_)){var m=_;if(3!==m.length)throw v(V);c[e]=m[e],c[n]=m[n],c[r]=m[r];continue}if(f(_)||s(_)){c[e]=_,c[n]=_,c[r]=_;continue}throw v(D);case K:if(a(_)){var m=_;if(2!==m.length)throw v(K);c[e]=m[e],c[n]=m[n];continue}if(f(_)||s(_)){c[e]=_,c[n]=_;continue}throw v(K);case et:case W:if(f(_)||s(_)){c[e]=_;continue}throw v(et);case nt:case $:if(f(_)||s(_)){c[n]=_;continue}throw v(nt);case rt:case tt:if(f(_)||s(_)){c[r]=_;continue}throw v(rt);case J:l+=" "+_;break;default:p[d(h)]=_}}var g=i[e]!==I,y=i[n]!==I,w=i[r]!==I;if(g&&w||y&&w){var T=i.map(function(t){return t||"1"}).join(",");l+=" scale3d("+T+")"}else g&&y?l+=" scale("+(i[e]||1)+", "+(i[n]||1)+")":g?l+=" scaleX("+i[e]+")":y?l+=" scaleX("+i[n]+")":w&&(l+=" scaleX("+i[r]+")");var k=u[e]!==I,S=u[n]!==I;k&&S?l+=" skew("+(u[e]||1)+", "+(u[n]||1)+")":k?l+=" skewX("+u[e]+")":S&&(l+=" skewY("+u[n]+")");var O=c[e]!==I,b=c[n]!==I,A=c[r]!==I;if(O&&A||b&&A){var j=c.map(function(t){return t||"1"}).join(",");l+=" translate3d("+j+")"}else O&&b?l+=" translate("+(c[e]||1)+", "+(c[n]||1)+")":O?l+=" translateX("+c[e]+")":b?l+=" translateY("+c[n]+")":A&&(l+=" translateZ("+c[r]+")");return l&&(p.transform=l),p}function w(){var t=this;return t=t instanceof w?t:Object.create(w.prototype),t._fn={},t}function T(t,e,n){var r=this instanceof T?this:Object.create(T.prototype),i=n.to-n.from;r._iterationStart=p(n.iterationStart)||0,r._iterations=p(n.iterations)||1,r._duration=i,r._startTime=n.from||0,r._endTime=n.to,r._totalDuration=(r._iterations||1)*i;var a=w();r._dispatcher=a;var o=t[j](e,{delay:p(n.delay)||void 0,direction:p(n.direction),duration:i,easing:n.easing||"linear",fill:n.fill||"none",iterationStart:r._iterationStart,iterations:r._iterations});return o.cancel(),o.onfinish=function(){return a.trigger(Q)},r._animator=o,r}function k(){var t=this instanceof k?this:Object.create(k.prototype);return t.active=[],t.elapses=[],t.isActive=I,t.lastTime=I,t.offs=[],t.ons=[],t}function S(t){O(t),b(t);var e=t.active,n=t.elapses,r=e.length,i=t.lastTime||Tt(),a=Tt(),o=a-i;if(!r)return t.isActive=I,void(t.lastTime=I);t.isActive=!0,t.lastTime=a,kt(t,S);for(var u=0;r>u;u++){var s=n[u],c=s+o;n[u]=c,e[u](o,c)}}function O(t){for(var e=t.offs.length,n=t.active,r=0;e>r;r++){var i=t.offs[r],a=n.indexOf(i);-1!==a&&(n.splice(a,1),t.elapses.splice(a,1))}}function b(t){for(var e=t.ons.length,n=t.active,r=0;e>r;r++){var i=t.ons[r];-1===n.indexOf(i)&&(n.push(i),t.elapses.push(0))}}var A=null,I=void 0,j="animate",x="cancel",R="cubic-bezier",C="duration",Q="finish",X="pause",E="play",L="reverse",M="rotate",D="rotate3d",Y="rotateX",z="rotateY",B="rotateZ",F="scale",Z="scale3d",q="scaleX",P="scaleY",N="scaleZ",U="skew",G="skewX",H="skewY",J="transform",K="translate",V="translate3d",W="translateX",$="translateY",tt="translateZ",et="x",nt="y",rt="z",it="[object Function]",at="number",ot="object",ut="string",st=/([a-z])[- ]([a-z])/gi,ct=Array.prototype.slice,ft=Array.prototype.push,pt=function(){for(var t=arguments,e=t[0],n=1,r=t.length;r>n;n++){var i=t[n];for(var a in i)o(e[a])||(e[a]=i[a])}return e},lt=function(t){var e={};for(var n in t){var r=t[n];u(r)?r=r():c(r)&&(r=lt(r)),e[n]=r}return e},vt=function(){for(var t=arguments,e=t[0],n=u(e)?e():e,r=t.length,i=1;r>i;i++)n=t[i](n);return n},ht=function(){var e=arguments;return e[0]+"("+t(e,1).join(",")+")"},_t="offset";w.prototype={_fn:I,trigger:function(t,e){var n=this._fn[t];if(n)for(var r=n.length,i=0;r>i;i++)n[i].apply(I,e)},on:function(t,e){if(!u(e))throw v("listener");var n=this._fn,r=n[t];return r?void(-1===r.indexOf(e)&&r.push(e)):void(n[t]=[e])},off:function(t,e){var n=this._fn[t];if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},T.prototype={_dispatcher:I,_duration:I,_endTime:I,_iterationStart:I,_iterations:I,_startTime:I,_totalDuration:I,currentTime:function(t){var e=this;return o(t)?(e._animator.currentTime=t,e):e._animator.currentTime},playbackRate:function(t){var e=this;return o(t)?(e._animator.playbackRate=t,e):e._animator.playbackRate},playState:function(){return this._animator.playState},iterationStart:function(){return this._iterationStart},iterations:function(){return this._iterations},totalDuration:function(){return this._totalDuration},duration:function(){return this._duration},endTime:function(){return this._endTime},startTime:function(){return this._startTime},off:function(t,e){return this._dispatcher.off(t,e),this},on:function(t,e){return this._dispatcher.on(t,e),this},cancel:function(){var t=this;return t._animator.cancel(),t._dispatcher.trigger(x),t},reverse:function(){var t=this;return t._animator.reverse(),t._dispatcher.trigger(L),t},pause:function(){var t=this;return t._animator.pause(),t._dispatcher.trigger(X),t},play:function(){var t=this;return t._animator.play(),t._dispatcher.trigger(E),t},finish:function(){var t=this;return t._animator.finish(),t}};var dt={easeInBack:ht(R,.6,-.28,.735,.045),easeInCirc:ht(R,.6,.04,.98,.335),easeInCubic:ht(R,.55,.055,.675,.19),easeInExpo:ht(R,.95,.05,.795,.035),easeInOutBack:ht(R,.68,-.55,.265,1.55),easeInOutCirc:ht(R,.785,.135,.15,.86),easeInOutCubic:ht(R,.645,.045,.355,1),easeInOutExpo:ht(R,1,0,0,1),easeInOutQuad:ht(R,.455,.03,.515,.955),easeInOutQuart:ht(R,.77,0,.175,1),easeInOutQuint:ht(R,.86,0,.07,1),easeInOutSine:ht(R,.445,.05,.55,.95),easeInQuad:ht(R,.55,.085,.68,.53),easeInQuart:ht(R,.895,.03,.685,.22),easeInQuint:ht(R,.755,.05,.855,.06),easeInSine:ht(R,.47,0,.745,.715),easeOutBack:ht(R,.175,.885,.32,1.275),easeOutCirc:ht(R,.075,.82,.165,1),easeOutCubic:ht(R,.215,.61,.355,1),easeOutExpo:ht(R,.19,1,.22,1),easeOutQuad:ht(R,.25,.46,.45,.94),easeOutQuart:ht(R,.165,.84,.44,1),easeOutQuint:ht(R,.23,1,.32,1),easeOutSine:ht(R,.39,.575,.565,1),elegantSlowStartEnd:ht(R,.175,.885,.32,1.275)},mt=1/30,gt=function(){function t(t,e){var n=this;if(!o(C))throw v(C);return n._duration=0,n._currentTime=I,n._playState="idle",n._playbackRate=1,n._events=[],n._resolver=t,n._timeLoop=e,n._dispatcher=w(),n._onTick=n._onTick.bind(n),n.on(Q,n._onFinish),n.on(x,n._onCancel),n.on(X,n._onPause),n.play(),n}return t.prototype.animate=function(t){var n=this;return a(t)?e(t,function(t){return n._addEvent(t)}):n._addEvent(t),n._recalculate(),n},t.prototype.duration=function(){return this._duration},t.prototype.currentTime=function(t){var e=this;return o(t)?(e._currentTime=t,e):e._currentTime},t.prototype.playbackRate=function(t){var e=this;return o(t)?(e._playbackRate=t,e):e._playbackRate},t.prototype.playState=function(t){var e=this;return o(t)?(e._playState=t,e._dispatcher.trigger("set",["playbackState",t]),e):e._playState},t.prototype.on=function(t,e){var n=this;return n._dispatcher.on(t,e),n},t.prototype.off=function(t,e){var n=this;return n._dispatcher.off(t,e),n},t.prototype.finish=function(){var t=this;return t._dispatcher.trigger(Q,[t]),t},t.prototype.play=function(){var t=this;return("running"!==t._playState||"pending"!==t._playState)&&(t._playState="pending",t._timeLoop.on(t._onTick)),t},t.prototype.pause=function(){var t=this;return t._dispatcher.trigger(X,[t]),t},t.prototype.reverse=function(){var t=this;return t._playbackRate*=-1,t},t.prototype.cancel=function(){var t=this;return t._dispatcher.trigger(x,[t]),t},t.prototype._recalculate=function(){var t=this,e=n(t._events,function(t){return t.startTimeMs+t.animator.totalDuration()});t._duration=e},t.prototype._addEvent=function(t){var e=this,n=h(t.targets);if(t.name){var a=e._resolver.findAnimation(t.name);if(!o(a))throw v("name");pt(t,a)}t.from=t.from||0,t.to=t.to||0,t.easing?t.easing=dt[t.easing]||t.easing:t.easing="linear";var u=r(n,function(n){var i=t.to+e._duration,a=t.from+e._duration,o=r(t.keyframes,lt),u=r(o,y),s=vt(u,m,g);return{animator:T(n,s,t),endTimeMs:i,startTimeMs:a}});i(e._events,u)},t.prototype._onCancel=function(t){t._timeLoop.off(t._onTick),t._currentTime=0,t._playState="idle",e(t._events,function(t){t.animator.cancel()})},t.prototype._onFinish=function(t){t._timeLoop.off(t._onTick),t._currentTime=0,t._playState="finished",e(t._events,function(t){t.animator.finish()})},t.prototype._onPause=function(t){t._timeLoop.off(t._onTick),t._playState="paused",e(t._events,function(t){t.animator.pause()})},t.prototype._onTick=function(t,e){var n=this,r=n._dispatcher,i=n._playState;if("idle"===i)return void r.trigger(x,[n]);if("finished"===i)return void r.trigger(Q,[n]);if("paused"===i)return void r.trigger(X,[n]);var a=n._playbackRate,o=0>a,u=n._duration,s=o?u:0,c=o?0:u;if("pending"===n._playState){var f=n._currentTime;n._currentTime=f===I||f===c?s:f,n._playState="running"}var p=n._currentTime+t*a;if(n._currentTime=p,!l(p,s,c))return void r.trigger(Q,[n]);for(var v=n._events,h=v.length,_=0;h>_;_++){var d=v[_],m=0>a?d.startTimeMs:d.startTimeMs+mt,g=a>=0?d.endTimeMs:d.endTimeMs-mt,y=p>=m&&g>p;if(y){var w=d.animator;w.playbackRate(a),w.play()}}},t}(),yt=window,wt=yt.requestAnimationFrame,Tt=performance&&performance.now?function(){return performance.now()}:function(){return Date.now()},kt=wt?function(t,e){wt(function(){e(t)})}:function(t,e){setTimeout(function(){e(t)},16.66)};k.prototype={on:function(t){var e=this,n=e.offs,r=e.ons,i=n.indexOf(t);-1!==i&&n.splice(i,1),-1===r.indexOf(t)&&r.push(t),e.isActive||(e.isActive=!0,kt(e,S))},off:function(t){var e=this,n=e.offs,r=e.ons,i=r.indexOf(t);-1!==i&&r.splice(i,1),-1===n.indexOf(t)&&n.push(t),e.isActive||(e.isActive=!0,kt(e,S))}};var St={},Ot=function(){function t(){this.defs={}}return t.prototype.findAnimation=function(t){return this.defs[t]||St[t]||I},t.prototype.registerAnimation=function(t,e){var n=t.name;return e?void(St[n]=t):void(this.defs[n]=t)},t}(),bt=function(){function t(){var t=this;t._resolver=new Ot,t._timeLoop=k()}return t.inject=function(t){var n=new Ot;e(t,function(t){return n.registerAnimation(t,!0)})},t.prototype.animate=function(t){return new gt(this._resolver,this._timeLoop).animate(t)},t.prototype.register=function(t){this._resolver.registerAnimation(t,!1)},t.prototype.inject=function(t){var n=this._resolver;e(t,function(t){return n.registerAnimation(t,!0)})},t}();"undefined"!=typeof angular&&angular.module("just.animate",[]).service("just",bt),window.just=new bt}();