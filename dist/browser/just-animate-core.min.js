!function(){"use strict";function t(t){return!t||t.length<1?void 0:t[0]}function e(t){return y.call(t,0)}function r(t,e){for(var r=0,i=t.length;i>r;r++)e(t[r])}function i(t,e){for(var r="",i=0,n=t.length;n>i;i++){var s=t[i],a=s[e];a>r&&(r=a)}return r}function n(t,e){for(var r=[],i=0,n=t.length;n>i;i++){var s=e(t[i]);void 0!==s&&r.push(s)}return r}function s(t){return!c(t)&&u(t.length)}function a(t){return void 0!==t&&null!==t&&""!==t}function o(t){return"[object Function]"===w.call(t)}function u(t){return"number"==typeof t}function c(t){return"string"==typeof t}function f(t){if(!t)throw Error("no elements");if(c(t)){var i=document.querySelectorAll(t);return e(i)}if("string"==typeof t.tagName)return[t];if(o(t)){var n=t,a=n();return f(a)}if(s(t)){var u=[];return r(t,function(t){var e=f(t);u.push.apply(u,e)}),u}return[]}function h(t,e,r,i){for(var n=[],s=[],a=0,u=t.length;u>a;a++)try{var c=t[a],f=void 0;f=e?c[e].apply(c,r):c.apply(void 0,r),void 0!==f&&s.push(f)}catch(t){n.push(t)}return o(i)&&i(n),s}function p(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=o(t)?t():t,n=arguments.length,s=1;n>s;s++)i=arguments[s](i);return i}function l(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=1,n=arguments.length;n>i;i++){var s=arguments[i];for(var a in s)t[a]=s[a]}return t}function m(t,e,r){return e+r.toUpperCase()}function d(t){return c(t)?t.replace(k,m):void 0}function v(t){if(t.length<2)return t;var e=t[0];0!==e.offset&&(e.offset=0);var r=t[t.length-1];1!==r.offset&&(r.offset=1);for(var i=t.length,n=i-1,s=1;n>s;s++){var a=t[s];if(!u(a.offset))for(var o=s+1;i>o;o++)if(u(t[o].offset)){for(var c=t[s-1].offset,f=t[o].offset,h=f-c,p=o-s+1,l=1;p>l;l++)t[l-1+s].offset=l/o*h+c;s=o;break}}return t}function _(t){if(t.length<2)return t;var e=t[0];0!==e.offset&&(e.offset=0);for(var r=t[t.length-1],i=t.length,n=1;i>n;n++){var s=t[n];for(var o in s)o===E||a(e[o])||(e[o]=s[o])}for(var n=i-2;n>-1;n--){var s=t[n];for(var o in s)o===E||a(r[o])||(r[o]=s[o])}return t}function g(t){var e=0,r=1,i=2,n=new Array(3),o=new Array(2),f=new Array(3),h={},p="";for(var l in t){var m=t[l];if(a(m))switch(l){case"scale3d":if(s(m)){var v=m;if(3!==v.length)throw Error("scale3d requires x, y, & z");n[e]=v[e],n[r]=v[r],n[i]=v[i];continue}if(u(m)){n[e]=m,n[r]=m,n[i]=m;continue}throw Error("scale3d requires a number or number[]");case"scale":if(s(m)){var v=m;if(2!==v.length)throw Error("scale requires x & y");n[e]=v[e],n[r]=v[r];continue}if(u(m)){n[e]=m,n[r]=m;continue}throw Error("scale requires a number or number[]");case"scaleX":if(u(m)){n[e]=m;continue}throw Error("scaleX requires a number");case"scaleY":if(u(m)){n[r]=m;continue}throw Error("scaleY requires a number");case"scaleZ":if(u(m)){n[i]=m;continue}throw Error("scaleZ requires a number");case"skew":if(s(m)){var v=m;if(2!==v.length)throw Error("skew requires x & y");o[e]=v[e],o[r]=v[r];continue}if(u(m)){o[e]=m,o[r]=m;continue}throw Error("skew requires a number, string, string[], or number[]");case"skewX":if(c(m)){o[e]=m;continue}throw Error("skewX requires a number or string");case"skewY":if(c(m)){o[r]=m;continue}throw Error("skewY requires a number or string");case"rotate3d":if(s(m)){var v=m;if(4!==v.length)throw Error("rotate3d requires x, y, z, & a");p+=" rotate3d("+v[0]+","+v[1]+","+v[2]+","+v[3]+")";continue}throw Error("rotate3d requires an []");case"rotateX":if(c(m)){p+=" rotate3d(1, 0, 0, "+m+")";continue}throw Error("rotateX requires a string");case"rotateY":if(c(m)){p+=" rotate3d(0, 1, 0, "+m+")";continue}throw Error("rotateY requires a string");case"rotate":case"rotateZ":if(c(m)){p+=" rotate3d(0, 0, 1, "+m+")";continue}throw Error("rotateZ requires a string");case"translate3d":if(s(m)){var v=m;if(3!==v.length)throw Error("translate3d requires x, y, & z");f[e]=v[e],f[r]=v[r],f[i]=v[i];continue}if(c(m)||u(m)){f[e]=m,f[r]=m,f[i]=m;continue}throw Error("translate3d requires a number, string, string[], or number[]");case"translate":if(s(m)){var v=m;if(2!==v.length)throw Error("translate requires x & y");f[e]=v[e],f[r]=v[r];continue}if(c(m)||u(m)){f[e]=m,f[r]=m;continue}throw Error("translate requires a number, string, string[], or number[]");case"x":case"translateX":if(c(m)||u(m)){f[e]=m;continue}throw Error("translateX requires a number or string");case"y":case"translateY":if(c(m)||u(m)){f[r]=m;continue}throw Error("translateY requires a number or string");case"z":case"translateZ":if(c(m)||u(m)){f[i]=m;continue}throw Error("translateZ requires a number or string");case"transform":p+=" "+m;break;default:var _=d(l);h[_]=m}}var g=void 0!==n[e],y=void 0!==n[r],b=void 0!==n[i];if(g&&b||y&&b){var w=n.map(function(t){return t||"1"}).join(",");p+=" scale3d("+w+")"}else g&&y?p+=" scale("+(n[e]||1)+", "+(n[r]||1)+")":g?p+=" scaleX("+n[e]+")":y?p+=" scaleX("+n[r]+")":b&&(p+=" scaleX("+n[i]+")");var k=void 0!==o[e],E=void 0!==o[r];k&&E?p+=" skew("+(o[e]||1)+", "+(o[r]||1)+")":k?p+=" skewX("+o[e]+")":E&&(p+=" skewY("+o[r]+")");var I=void 0!==f[e],T=void 0!==f[r],z=void 0!==f[i];if(I&&z||T&&z){var q=f.map(function(t){return t||"1"}).join(",");p+=" translate3d("+q+")"}else I&&T?p+=" translate("+(f[e]||1)+", "+(f[r]||1)+")":I?p+=" translateX("+f[e]+")":T?p+=" translateY("+f[r]+")":z&&(p+=" translateZ("+f[i]+")");return p&&(h.transform=p),h}var y=Array.prototype.slice,b={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",elegantSlowStartEnd:"cubic-bezier(0.175, 0.885, 0.320, 1.275)"},w=Object.prototype.toString,k=/([a-z])[- ]([a-z])/gi,E="offset",I=function(){function t(){this._listeners={}}return t.prototype.trigger=function(t,e){var i=this._listeners[t];i&&r(i,function(t){return t.apply(void 0,e)})},t.prototype.on=function(t,e){if(!o(e))throw Error("invalid listener");var r=this._listeners[t];return r?void(-1===r.indexOf(e)&&r.push(e)):void(this._listeners[t]=[e])},t.prototype.off=function(t,e){var r=this._listeners[t];if(!r)return!1;var i=r.indexOf(e);return-1===i?!1:(r.splice(i,1),!0)},t}(),T=function(){function e(t,e,r,i){var s=this;if(this._dispatcher=new I,e){var a;if(c(e)){var o=t.findAnimation(e);a=p(n(o.keyframes,g),v,_),i=l({},o.timings,i)}else a=p(n(e,g),v,_);if(i&&i.easing){var u=b[i.easing];u&&(i.easing=u)}this.duration=i.duration;var m=f(r);this._animators=h(m,"animate",[a,i]),this._animators.length>0&&this._animators[0].addEventListener("finish",function(){return s.finish()})}}return Object.defineProperty(e.prototype,"playbackRate",{get:function(){var e=t(this._animators);return e?e.playbackRate:0},set:function(t){r(this._animators,function(e){return e.playbackRate=t})},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(t,e){this._dispatcher.on(t,e)},e.prototype.removeEventListener=function(t,e){this._dispatcher.off(t,e)},Object.defineProperty(e.prototype,"currentTime",{get:function(){return i(this._animators,"currentTime")||0},set:function(t){r(this._animators,function(e){return e.currentTime=t})},enumerable:!0,configurable:!0}),e.prototype.finish=function(t){var e=this;h(this._animators,"finish",[]),this.playbackRate<0?r(this._animators,function(t){return t.currentTime=0}):r(this._animators,function(t){return t.currentTime=e.duration}),this._dispatcher.trigger("finish")},e.prototype.play=function(){h(this._animators,"play",[])},e.prototype.pause=function(){h(this._animators,"pause",[])},e.prototype.reverse=function(){h(this._animators,"reverse",[])},e.prototype.cancel=function(){h(this._animators,"cancel",[]),r(this._animators,function(t){return t.currentTime=0}),this._dispatcher.trigger("cancel")},e}(),z=function(){function t(t,e){this._dispatcher=new I;var r=n(e.steps,function(e){if(e.command||!e.name)return e;var r=t.findAnimation(e.name),i=l({},r.timings);return e.timings&&(i=l(i,e.timings)),{el:e.el,keyframes:r.keyframes,timings:r.timings}});this._currentIndex=-1,this._manager=t,this._steps=r,this._duration=this._steps.reduce(function(t,e){return t+(e.timings.duration||0)},0),e.autoplay===!0&&this.play()}return Object.defineProperty(t.prototype,"currentTime",{get:function(){var t=this._currentIndex,e=this._steps.length;if(-1===t||t===e)return 0;for(var r,i=-1===this.playbackRate,n=0,s=0,a=0;e>a;a++){var o=this._steps[a];t>a?n+=o.timings.duration:a>t?s+=o.timings.duration:r=i?this.duration-o.animator.currentTime:o.animator.currentTime}return r+(i?s:n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),t.prototype.addEventListener=function(t,e){this._dispatcher.on(t,e)},t.prototype.removeEventListener=function(t,e){this._dispatcher.off(t,e)},t.prototype.finish=function(){this._currentIndex=-1;for(var t=0;t<this._steps.length;t++){var e=this._steps[t];a(e.animator)&&e.animator.cancel()}},t.prototype.play=function(){this.playbackRate=1,this._playThisStep()},t.prototype.pause=function(){if(this._isInEffect()){var t=this._getAnimator();t.pause()}},t.prototype.reverse=function(){this.playbackRate=-1,this._playThisStep()},t.prototype.cancel=function(){this.playbackRate=void 0,this._currentIndex=-1;for(var t=0;t<this._steps.length;t++){var e=this._steps[t];a(e.animator)&&e.animator.cancel()}},t.prototype._isInEffect=function(){return this._currentIndex>-1&&this._currentIndex<this._steps.length},t.prototype._getAnimator=function(){var t=this._steps[this._currentIndex];return t.animator?t.animator:(t.animator=this._manager.animate(t.keyframes,t.el,t.timings),t.animator)},t.prototype._playNextStep=function(){-1===this.playbackRate?this._currentIndex--:this._currentIndex++,this._isInEffect()?this._playThisStep():this._dispatcher.trigger("finish")},t.prototype._playThisStep=function(){var t=this;this._isInEffect()||(-1===this.playbackRate?this._currentIndex=this._steps.length-1:this._currentIndex=0);var e=this._getAnimator();e.addEventListener("finish",function(){return t._playNextStep()}),e.play()},t}(),q=1/30,x=function(){function t(t,e){this._dispatcher=new I;var r=e.duration;if(void 0===r)throw Error("Duration is required");this.playbackRate=0,this.duration=e.duration,this.currentTime=0,this._events=n(e.events,function(e){return new O(t,r,e)}),this._isPaused=!1,this._manager=t,this._tick=this._tick.bind(this),e.autoplay&&this.play()}return t.prototype.addEventListener=function(t,e){this._dispatcher.on(t,e)},t.prototype.removeEventListener=function(t,e){this._dispatcher.off(t,e)},t.prototype.finish=function(){this._isFinished=!0},t.prototype.play=function(){this.playbackRate=1,this._isPaused=!1,this._isInEffect||(this.playbackRate<0?this.currentTime=this.duration:this.currentTime=0,window.requestAnimationFrame(this._tick))},t.prototype.pause=function(){this._isInEffect&&(this._isPaused=!0)},t.prototype.reverse=function(){this.playbackRate=-1,this._isPaused=!1,this._isInEffect||(this.currentTime<=0&&(this.currentTime=this.duration),window.requestAnimationFrame(this._tick))},t.prototype.cancel=function(){this.playbackRate=0,this._isCanceled=!0},t.prototype._tick=function(){var t=this;if(this._isCanceled)return void this._triggerCancel();if(this._isFinished)return void this._triggerFinish();if(this._isPaused)return void this._triggerPause();this._isInEffect||(this._isInEffect=!0);var e=performance.now(),i=this._lastTick;if(void 0!==i){var n=(e-i)*this.playbackRate;this.currentTime+=n}return this._lastTick=e,this.currentTime>this.duration||this.currentTime<0?void this._triggerFinish():(r(this._events,function(e){var r=t.playbackRate<0?e.startTimeMs:e.startTimeMs+q,i=t.playbackRate>=0?e.endTimeMs:e.endTimeMs-q,n=r<=t.currentTime&&t.currentTime<i;return n?(e.animator.playbackRate=t.playbackRate,e.isInEffect=!0,void e.animator.play()):void(e.isInEffect=!1)}),void window.requestAnimationFrame(this._tick))},t.prototype._triggerFinish=function(){this._reset(),r(this._events,function(t){return t.animator.finish()}),o(this.onfinish)&&this.onfinish(this)},t.prototype._triggerCancel=function(){this._reset(),r(this._events,function(t){return t.animator.cancel()}),o(this.oncancel)&&this.oncancel(this)},t.prototype._triggerPause=function(){this._isPaused=!0,this._isInEffect=!1,this._lastTick=void 0,this.playbackRate=0,r(this._events,function(t){t.isInEffect=!1,t.animator.pause()})},t.prototype._reset=function(){this.currentTime=0,this._lastTick=void 0,this._isCanceled=!1,this._isFinished=!1,this._isPaused=!1,this._isInEffect=!1,r(this._events,function(t){t.isInEffect=!1})},t}(),O=function(){function t(t,e,r){var i,n,s;if(r.name){var a=t.findAnimation(r.name),o=l({},a.timings);r.timings&&(n=l(o,r.timings)),i=a.keyframes,n=o,s=r.el}else i=r.keyframes,n=r.timings,s=r.el;var u=e*r.offset,c=u+n.duration,f=c>e;f&&(c=e),this.el=s,this.isClipped=f,this.isInEffect=!1,this.endTimeMs=c,this.keyframes=i,this.offset=r.offset,this.startTimeMs=u,this.timings=n,this._manager=t}return Object.defineProperty(t.prototype,"animator",{get:function(){return void 0===this._animator&&(this._animator=this._manager.animate(this.keyframes,this.el,this.timings),this._animator.pause()),this._animator},enumerable:!0,configurable:!0}),t}(),R=function(){function t(){this._registry={}}return t.inject=function(e){r(e,function(e){return t._globalAnimations[e.name]=e})},t.prototype.animate=function(t,e,r){return new T(this,t,e,r)},t.prototype.animateSequence=function(t){return new z(this,t)},t.prototype.animateTimeline=function(t){return new x(this,t)},t.prototype.findAnimation=function(e){return this._registry[e]||t._globalAnimations[e]||void 0},t.prototype.register=function(t){this._registry[t.name]=t},t.prototype.inject=function(e){t.inject(e)},t._globalAnimations={},t}();"undefined"!=typeof angular&&angular.module("just.animate",[]).service("just",R),window.just=new R}();